<p>Welcome to gameID: {{gameID}} (PLAYER 1) {{this.game && this.game.isUser1Connected ? "CONNECTED" : "DISCONNECTED"}} (PLAYER 2) {{this.game && this.game.isUser2Connected ? "CONNECTED" : "DISCONNECTED"}}</p>

<div class="positioningGridContainer" *ngIf="!isGameStarted">

    <span #ships id="hotbar" class="hotbar">
        <span>
            <div class="destroyer" draggable="true" (dragstart)="onDragStart($event, 2, 0)" (dragend)="onDragEnd($event, 2, 0)" (dblclick)="rotateShip($event, 2, 0)"></div>
            <div class="destroyer" draggable="true" (dragstart)="onDragStart($event, 2, 1)" (dragend)="onDragEnd($event, 2, 1)" (dblclick)="rotateShip($event, 2, 1)"></div>
            <div class="destroyer" draggable="true" (dragstart)="onDragStart($event, 2, 2)" (dragend)="onDragEnd($event, 2, 2)" (dblclick)="rotateShip($event, 2, 2)"></div>
            <div class="destroyer" draggable="true" (dragstart)="onDragStart($event, 2, 3)" (dragend)="onDragEnd($event, 2, 3)" (dblclick)="rotateShip($event, 2, 3)"></div>
            <div class="destroyer" draggable="true" (dragstart)="onDragStart($event, 2, 4)" (dragend)="onDragEnd($event, 2, 4)" (dblclick)="rotateShip($event, 2, 4)"></div>
        </span>
        <span>
            <div class="cruiser" draggable="true" (dragstart)="onDragStart($event, 3, 0)" (dragend)="onDragEnd($event, 3, 0)" (dblclick)="rotateShip($event, 3, 0)"></div>
            <div class="cruiser" draggable="true" (dragstart)="onDragStart($event, 3, 1)" (dragend)="onDragEnd($event, 3, 1)" (dblclick)="rotateShip($event, 3, 1)"></div>
            <div class="cruiser" draggable="true" (dragstart)="onDragStart($event, 3, 2)" (dragend)="onDragEnd($event, 3, 2)" (dblclick)="rotateShip($event, 3, 2)"></div>
        </span>
        <span>
            <div class="battleship" draggable="true" (dragstart)="onDragStart($event, 4, 0)" (dragend)="onDragEnd($event, 4, 0)" (dblclick)="rotateShip($event, 4, 0)"></div>
            <div class="battleship" draggable="true" (dragstart)="onDragStart($event, 4, 1)" (dragend)="onDragEnd($event, 4, 1)" (dblclick)="rotateShip($event, 4, 1)"></div>
        </span>
        <span>
            <div class="carrier" draggable="true" (dragstart)="onDragStart($event, 5, 0)" (dragend)="onDragEnd($event, 5, 0)" (dblclick)="rotateShip($event, 5, 0)"></div>
        </span>
        <button type="submit" class="btn btn-danger mb-2" (click)="randomizePosition()">
            Randomize Position
            <i class="fas fa-shuffle"></i>
        </button>
        <button type="submit" class="btn btn-success" (click)="submitPosition()">
            Confirm Position
            <i class="fas fa-check"></i>
        </button>
    </span>
    
    <span #board class="positioningGrid">
        <ng-container *ngFor="let row of positioningBoard; let i = index;">
            <span *ngFor="let col of row, let j = index" [ngClass]="{'occupied' : col}" id="{{i}}{{j}}" [style.grid-row]="i+1" [style.grid-column]="j+2" (dragenter)="onDragEnter($event)">
                {{stringRef.fromCharCode('A'.charCodeAt(0) + j)}}{{i+1}}
            </span>
            <label [style.grid-row]="11" [style.grid-column]="i+2">{{stringRef.fromCharCode('A'.charCodeAt(0) + i)}}</label>
            <label [style.grid-row]="i+1" [style.grid-column]="1">{{i+1}}</label>
        </ng-container>
    </span>

</div>

<div class="gameContainer" *ngIf="isGameStarted">

    <div class="board1">
        <ng-container *ngFor="let row of game.board1; let i = index;">
            <span *ngFor="let col of row, let j = index" [ngClass]="{'occupied' : col}" [style.grid-row]="i+1" [style.grid-column]="j+2">
                {{stringRef.fromCharCode('A'.charCodeAt(0) + j)}}{{i+1}}
            </span>
            <label [style.grid-row]="11" [style.grid-column]="i+2">{{stringRef.fromCharCode('A'.charCodeAt(0) + i)}}</label>
            <label [style.grid-row]="i+1" [style.grid-column]="1">{{i+1}}</label>
        </ng-container>
    </div>

    <div class="board2">
        <ng-container *ngFor="let row of game.board2; let i = index;">
            <span *ngFor="let col of row, let j = index" [ngClass]="{'occupied' : col}" [style.grid-row]="i+1" [style.grid-column]="j+2">
                {{stringRef.fromCharCode('A'.charCodeAt(0) + j)}}{{i+1}}
            </span>
            <label [style.grid-row]="11" [style.grid-column]="i+2">{{stringRef.fromCharCode('A'.charCodeAt(0) + i)}}</label>
            <label [style.grid-row]="i+1" [style.grid-column]="1">{{i+1}}</label>
        </ng-container>
    </div>
    
</div>